(window.webpackJsonp=window.webpackJsonp||[]).push([[259],{572:function(a,s,e){"use strict";e.r(s);var t=e(14),r=Object(t.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"groupmems"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#groupmems"}},[a._v("#")]),a._v(" groupmems")]),a._v(" "),s("p",[a._v("管理用户主要组的成员")]),a._v(" "),s("h2",{attrs:{id:"补充说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#补充说明"}},[a._v("#")]),a._v(" 补充说明")]),a._v(" "),s("p",[s("code",[a._v("groupmems")]),a._v(" 命令允许用户管理他/她自己的组成员列表，而不需要超级用户权限。"),s("code",[a._v("groupmems")]),a._v(" 实用程序适用于将其用户配置为以他们自己的名义主组（即来宾/来宾）的系统。")]),a._v(" "),s("p",[a._v("只有作为管理员的超级用户可以使用 "),s("code",[a._v("groupmems")]),a._v(" 来更改其他组的成员资格。")]),a._v(" "),s("h3",{attrs:{id:"语法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#语法"}},[a._v("#")]),a._v(" 语法")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("groupmems "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-a")]),a._v(" user_name "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" 用户名 "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("-g 用户组名"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-l")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v("\n")])])]),s("h3",{attrs:{id:"选项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#选项"}},[a._v("#")]),a._v(" 选项")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("-a, "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--add")]),a._v(" user_name "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 将用户添加到组成员列表。如果 /etc/gshadow 文件存在，并且该组在 /etc/gshadow 文件中没有条目，则将创建一个新条目。")]),a._v("\n\n-d, "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--delete")]),a._v(" user_name\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 从组成员列表中删除用户。")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 如果 /etc/gshadow 文件存在，用户将从组的成员和管理员列表中删除。")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 如果 /etc/gshadow 文件存在，并且该组在 /etc/gshadow 文件中没有条目，则将创建一个新条目。")]),a._v("\n\n-g, "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--group")]),a._v(" group_name "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 超级用户可以指定要修改的组成员列表。")]),a._v("\n-l, "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--list")]),a._v("             "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 列出组成员列表。")]),a._v("\n-p, "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--purge")]),a._v("            "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 从组成员列表中清除所有用户。")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 如果 /etc/gshadow 文件存在，并且该组在 /etc/gshadow 文件中没有条目，则将创建一个新条目。")]),a._v("\n")])])]),s("h2",{attrs:{id:"配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[a._v("#")]),a._v(" 配置")]),a._v(" "),s("p",[s("code",[a._v("/etc/login.defs")]),a._v(" 中的以下配置变量会更改此工具的行为：")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("MAX_MEMBERS_PER_GROUP "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("number"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),s("p",[a._v("每个组条目的最大成员数。 当达到最大值时，在 "),s("code",[a._v("/etc/group")]),a._v(" 中启动一个新的组条目（行）（具有相同的名称、相同的密码和相同的 GID）。")]),a._v(" "),s("p",[a._v("默认值为 0，表示组中的成员数量没有限制。")]),a._v(" "),s("p",[a._v("此功能（拆分组）允许限制组文件中的行长度。 这有助于确保 NIS 组的行不超过 1024 个字符。")]),a._v(" "),s("p",[a._v("如果你需要强制执行这样的限制，你可以使用 25。")]),a._v(" "),s("p",[a._v("注意：并非所有工具都支持拆分组（即使在 Shadow 工具包中）。 除非你真的需要它，否则你不应该使用这个变量。")]),a._v(" "),s("h2",{attrs:{id:"例子"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#例子"}},[a._v("#")]),a._v(" 例子")]),a._v(" "),s("p",[a._v("groupmems 可执行文件应该在模式 2770 中作为用户 root 和组组。 系统管理员可以将用户添加到组中，以允许或禁止他们使用 groupmems 实用程序来管理他们自己的组成员列表。")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("groupadd")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-r")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("groups")]),a._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("chmod")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2770")]),a._v(" groupmems\n\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("chown")]),a._v(" root.groups groupmems\n$ groupmems "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-g")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("groups")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-a")]),a._v(" gk4\n")])])]),s("p",[a._v("让我们创建一个新用户和一个新组并验证结果：")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("useradd")]),a._v(" student\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("passwd")]),a._v(" student\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("groupadd")]),a._v(" staff\n")])])]),s("p",[a._v("使用户 student 成为组人员的成员：")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("$ groupmems "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-g")]),a._v(" staff "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-a")]),a._v(" student\n$ groupmems "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-g")]),a._v(" staff "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-l")]),a._v(" \n")])])]),s("p",[a._v("将用户添加到组：")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("$ groupmems "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-a")]),a._v(" mike "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-g")]),a._v(" SUPPORT\n$ groupmems "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--add")]),a._v(" mike "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-g")]),a._v(" SUPPORT \n")])])]),s("p",[a._v("从组中删除/移除用户：")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("$ groupmems "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" mike SUPPORT "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-g")]),a._v(" SUPPORT\n$ groupmems "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--delete")]),a._v(" mike SUPPORT "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-g")]),a._v(" SUPPORT\n")])])]),s("p",[a._v("更改组名称：")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("$ groupmems "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-g")]),a._v(" SUPPORT\n")])])]),s("p",[a._v("从组中删除用户：")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("$ groupmems "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-g")]),a._v(" SUPPORT\n$ groupmems "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--purge")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-g")]),a._v(" SUPPORT\n")])])]),s("p",[a._v("要列出组的成员：")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("$ groupmems "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-l")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-g")]),a._v(" SUPPORT\n$ groupmems "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--list")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-g")]),a._v(" SUPPORT\n")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);