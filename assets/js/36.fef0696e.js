(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{344:function(e,t,v){"use strict";v.r(t);var a=v(14),s=Object(a.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[e._v("#")]),e._v(" 配置")]),e._v(" "),t("h2",{attrs:{id:"配置文件-选项配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置文件-选项配置"}},[e._v("#")]),e._v(" 配置文件：选项配置")]),e._v(" "),t("p",[e._v("配置文件是在docs文件夹下的"),t("code",[e._v(".vuepress")]),e._v("文件夹下的"),t("code",[e._v("config.js")]),e._v("\n可以对比着"),t("a",{attrs:{href:"https://www.vuepress.cn/config/",target:"_blank",rel:"noopener noreferrer"}},[e._v("官网的选项配置"),t("OutboundLink")],1),e._v("，添加或者更换自己喜欢的配置")]),e._v(" "),t("h2",{attrs:{id:"主题配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#主题配置"}},[e._v("#")]),e._v(" 主题配置")]),e._v(" "),t("p",[e._v("除了上面可配置的选项，还可以对负责整个网站的布局和交互细节的"),t("strong",[e._v("主题")]),e._v("进行配置\n在主题配置中，最基本的就是默认主题，这个几乎不用配置，跟着"),t("a",{attrs:{href:"https://www.vuepress.cn/theme/default-theme-config.html#%E9%A6%96%E9%A1%B5",target:"_blank",rel:"noopener noreferrer"}},[e._v("官网的默认主题"),t("OutboundLink")],1),e._v("配置即可。")]),e._v(" "),t("blockquote",[t("p",[e._v("下面说说高级的自定义主题")])]),e._v(" "),t("p",[e._v("建议开启dev分支来开发theme，原因有三")]),e._v(" "),t("ol",[t("li",[e._v("这是全局布局，一旦theme文件目录下有"),t("code",[e._v("xxx.vue")]),e._v("之后，整个网站都会遵顼这个文件的布局。如果"),t("code",[e._v("xxx.vue")]),e._v("文件里面为空，那页面也是空")]),e._v(" "),t("li",[t("code",[e._v("create branch from master")]),e._v(" 创建dev分支，不影响master分支，可随意在dev代码上修改")]),e._v(" "),t("li",[e._v("在完全开发好自定义主题之前，都不要在"),t("code",[e._v(".vuepress")]),e._v("目录下创建"),t("code",[e._v("theme/global-components/")]),e._v("，否则页面也是为空，因为这个官方的全局组件扫描文件")])]),e._v(" "),t("p",[e._v("需要自定义主题就直接从"),t("a",{attrs:{href:"https://www.vuepress.cn/theme/writing-a-theme.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("这个官方文档"),t("OutboundLink")],1),e._v("参考")]),e._v(" "),t("p",[e._v("创建并切换到dev分支，并创建好theme的各个目录以及文件，准备开发自定义主题")]),e._v(" "),t("h3",{attrs:{id:"布局组件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#布局组件"}},[e._v("#")]),e._v(" 布局组件")]),e._v(" "),t("p",[e._v("假设你的主题 layouts 目录如下：")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("theme\n└── layouts\n   ├── Layout.vue\n   ├── AnotherLayout.vue\n   └── 404.vue\n\n\n")])])]),t("p",[e._v("所有的页面将会默认使用 "),t("code",[e._v("Layout.vue")]),e._v(" 作为布局组件，对于那些匹配不到的路由将会使用 "),t("code",[e._v("404.vue")]),e._v("。")]),e._v(" "),t("p",[e._v("如果你想要在某一个页面中使用 "),t("code",[e._v("AnotherLayout.vue")]),e._v(" 作为布局组件，在.md文件里面更新这个页面的 "),t("code",[e._v("frontmatter")]),e._v("指定具体的layout组件，如下:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("---\nlayout: AnotherLayout\n---\n\n...(md的其他内容)\n")])])]),t("h3",{attrs:{id:"使用插件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用插件"}},[e._v("#")]),e._v(" 使用插件")]),e._v(" "),t("p",[e._v("你可以通过主题的配置文件 "),t("code",[e._v("theme/index.js")]),e._v(" 来给主题应用一些插件：")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// .vuepress/theme/index.js\nmodule.exports = {\n  plugins: [\n    '@vuepress/pwa',\n    {\n      serviceWorker: true,\n      updatePopup: true\n    }\n  ]\n}\n")])])]),t("h3",{attrs:{id:"网站和页面的元数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#网站和页面的元数据"}},[e._v("#")]),e._v(" 网站和页面的元数据")]),e._v(" "),t("p",[t("code",[e._v("Layout")]),e._v("组件将会对每一个文档目录下的 "),t("code",[e._v(".md")]),e._v(" 执行一次，同时，整个网站以及特定页面的元数据将分别暴露为 "),t("code",[e._v("this.$site")]),e._v(" 和 "),t("code",[e._v("this.$page")]),e._v(" 属性，它们将会被注入到每一个当前应用的组件中。")]),e._v(" "),t("p",[e._v("这是你现在看到的这个网站的 "),t("code",[e._v("$site")]),e._v(" 的值：")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('{\n  "title": "VuePress",\n  "description": "Vue 驱动的静态网站生成器",\n  "base": "/",\n  "pages": [\n    {\n      "lastUpdated": 1524027677000,\n      "path": "/",\n      "title": "VuePress",\n      "frontmatter": {}\n    },\n    ...\n  ]\n}\n')])])]),t("p",[t("code",[e._v("title")]),e._v(", "),t("code",[e._v("description")]),e._v(" 和 "),t("code",[e._v("base")]),e._v(" 会从 "),t("code",[e._v(".vuepress/config.js")]),e._v(" 中对应的的字段复制过来，而 "),t("code",[e._v("pages")]),e._v(" 是一个包含了每个页面元数据对象的数据，包括它的路径、页面标题（明确地通过 "),t("code",[e._v("YAML front matter")]),e._v(" 指定，或者通过该页面的第一个标题取到），以及所有源文件中的 "),t("code",[e._v("YAML front matter")]),e._v(" 的数据。")]),e._v(" "),t("p",[e._v("下面的这个对象是你正在看的这个页面的 "),t("code",[e._v("$page")]),e._v(" 的值：")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('{\n  "lastUpdated": 1524847549000,\n  "path": "/custom-themes.html",\n  "title": "自定义主题",\n  "headers": [/* ... */],\n  "frontmatter": {}\n}\n')])])]),t("p",[e._v("如果用户在 "),t("code",[e._v(".vuepress/config.js")]),e._v(" 配置了 "),t("code",[e._v("themeConfig")]),e._v("，你将可以通过 "),t("code",[e._v("$site.themeConfig")]),e._v(" 访问到它。如此一来，你可以通过它来对用户开放一些自定义主题的配置 —— 比如指定目录或者页面的顺序，你也可以结合 "),t("code",[e._v("$site.pages")]),e._v(" 来动态地构建导航链接。")]),e._v(" "),t("p",[e._v("最后，别忘了，作为 "),t("code",[e._v("Vue Router API")]),e._v(" 的一部分，"),t("code",[e._v("this.$route")]),e._v(" 和 "),t("code",[e._v("this.$router")]),e._v(" 同样可以使用。")]),e._v(" "),t("blockquote",[t("p",[e._v("提示：\n"),t("code",[e._v("lastUpdated")]),e._v(" 是这个文件最后一次 git 提交的 UNIX 时间戳，更多细节请参考：最后更新时间。")])]),e._v(" "),t("h3",{attrs:{id:"应用配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#应用配置"}},[e._v("#")]),e._v(" 应用配置")]),e._v(" "),t("p",[e._v("自定义主题也可以通过主题根目录下的 "),t("code",[e._v("enhanceApp.js")]),e._v(" 文件来对 "),t("code",[e._v("VuePress")]),e._v(" 应用进行拓展配置。这个文件应当 "),t("code",[e._v("export default")]),e._v(" 一个钩子函数，并接受一个包含了一些应用级别属性的对象作为参数。你可以使用这个钩子来安装一些附加的 Vue 插件、注册全局组件，或者增加额外的路由钩子等：")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("export default ({\n  Vue, // VuePress 正在使用的 Vue 构造函数\n  options, // 附加到根实例的一些选项\n  router, // 当前应用的路由实例\n  siteData // 站点元数据\n}) => {\n  // ...做一些其他的应用级别的优化\n}\n")])])])])}),[],!1,null,null,null);t.default=s.exports}}]);