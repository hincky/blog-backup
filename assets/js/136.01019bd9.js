(window.webpackJsonp=window.webpackJsonp||[]).push([[136],{446:function(a,s,t){"use strict";t.r(s);var e=t(14),r=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"chage"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#chage"}},[a._v("#")]),a._v(" chage")]),a._v(" "),s("p",[a._v("修改帐号和密码的有效期限")]),a._v(" "),s("h2",{attrs:{id:"补充说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#补充说明"}},[a._v("#")]),a._v(" 补充说明")]),a._v(" "),s("p",[s("strong",[a._v("chage命令")]),a._v(" 是用来修改帐号和密码的有效期限。")]),a._v(" "),s("h3",{attrs:{id:"语法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#语法"}},[a._v("#")]),a._v(" 语法")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("chage "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("选项"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" 用户名\n")])])]),s("h3",{attrs:{id:"选项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#选项"}},[a._v("#")]),a._v(" 选项")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("-m：密码可更改的最小天数。为零时代表任何时候都可以更改密码。\n-M：密码保持有效的最大天数。\n-w：用户密码到期前，提前收到警告信息的天数。\n-E：帐号到期的日期。过了这天，此帐号将不可用。\n-d：上一次更改的日期。\n-I：停滞时期。如果一个密码已过期这些天，那么此帐号将不可用。\n-l：例出当前的设置。由非特权用户来确定他们的密码或帐号何时过期。\n")])])]),s("h3",{attrs:{id:"实例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#实例"}},[a._v("#")]),a._v(" 实例")]),a._v(" "),s("p",[a._v("可以编辑"),s("code",[a._v("/etc/login.defs")]),a._v("来设定几个参数，以后设置口令默认就按照参数设定为准：")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("PASS_MAX_DAYS   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("99999")]),a._v("\nPASS_MIN_DAYS   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("\nPASS_MIN_LEN    "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("5")]),a._v("\nPASS_WARN_AGE   "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("7")]),a._v("\n")])])]),s("p",[a._v("当然在"),s("code",[a._v("/etc/default/useradd")]),a._v("可以找到如下2个参数进行设置：")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# useradd defaults file")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("GROUP")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("100")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("HOME")])]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/home\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("INACTIVE")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("-1\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("EXPIRE")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("SHELL")])]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/bin/bash\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("SKEL")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/etc/skel\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("CREATE_MAIL_SPOOL")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("yes\n")])])]),s("p",[a._v("通过修改配置文件，能对之后新建用户起作用，而目前系统已经存在的用户，则直接用chage来配置。")]),a._v(" "),s("p",[a._v("我的服务器root帐户密码策略信息如下：")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("chage "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-l")]),a._v(" root\n\n最近一次密码修改时间                  ： "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v("月 "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("12")]),a._v(", "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2013")]),a._v("\n密码过期时间                         ：从不\n密码失效时间                         ：从不\n帐户过期时间                         ：从不\n两次改变密码之间相距的最小天数          ：0\n两次改变密码之间相距的最大天数          ：99999\n在密码过期之前警告的天数               ：7\n")])])]),s("p",[a._v("我可以通过如下命令修改我的密码过期时间：")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("chage "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-M")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("60")]),a._v(" root\nchage "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-l")]),a._v(" root\n\n最近一次密码修改时间                  ： "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v("月 "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("12")]),a._v(", "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2013")]),a._v("\n密码过期时间                         ： "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("5")]),a._v("月 "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("11")]),a._v(", "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2013")]),a._v("\n密码失效时间                         ：从不\n帐户过期时间                         ：从不\n两次改变密码之间相距的最小天数          ：0\n两次改变密码之间相距的最大天数          ：60\n在密码过期之前警告的天数               ：9\n")])])]),s("p",[a._v("然后通过如下命令设置密码失效时间：")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("chage "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-I")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("5")]),a._v(" root\nchage "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-l")]),a._v(" root\n\n最近一次密码修改时间                  ： "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v("月 "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("12")]),a._v(", "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2013")]),a._v("\n密码过期时间                         ： "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("5")]),a._v("月 "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("11")]),a._v(", "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2013")]),a._v("\n密码失效时间                         ： "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("5")]),a._v("月 "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("16")]),a._v(", "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2013")]),a._v("\n帐户过期时间                         ：从不\n两次改变密码之间相距的最小天数          ：0\n两次改变密码之间相距的最大天数          ：60\n在密码过期之前警告的天数               ：9\n")])])]),s("p",[a._v("从上述命令可以看到，在密码过期后5天，密码自动失效，这个用户将无法登陆系统了。")])])}),[],!1,null,null,null);s.default=r.exports}}]);