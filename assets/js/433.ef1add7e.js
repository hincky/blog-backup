(window.webpackJsonp=window.webpackJsonp||[]).push([[433],{746:function(s,a,t){"use strict";t.r(a);var n=t(14),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"passwd"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#passwd"}},[s._v("#")]),s._v(" passwd")]),s._v(" "),a("p",[s._v("用于让用户可以更改自己的密码")]),s._v(" "),a("h2",{attrs:{id:"补充说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#补充说明"}},[s._v("#")]),s._v(" 补充说明")]),s._v(" "),a("p",[a("strong",[s._v("passwd命令")]),s._v(" 用于设置用户的认证信息，包括用户密码、密码过期时间等。系统管理者则能用它管理系统用户的密码。只有管理者可以指定用户名称，一般用户只能变更自己的密码。")]),s._v(" "),a("h3",{attrs:{id:"语法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#语法"}},[s._v("#")]),s._v(" 语法")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("passwd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("选项"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("参数"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("h3",{attrs:{id:"选项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#选项"}},[s._v("#")]),s._v(" 选项")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("-d：删除密码，仅有系统管理者才能使用；\n-f：强制执行；\n-k：设置只有在密码过期失效后，方能更新；\n-l：锁住密码；\n-s：列出密码的相关信息，仅有系统管理者才能使用；\n-u：解开已上锁的帐号。\n")])])]),a("h3",{attrs:{id:"参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参数"}},[s._v("#")]),s._v(" 参数")]),s._v(" "),a("p",[s._v("用户名：需要设置密码的用户名。")]),s._v(" "),a("h3",{attrs:{id:"知识扩展"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#知识扩展"}},[s._v("#")]),s._v(" 知识扩展")]),s._v(" "),a("p",[s._v("与用户、组账户信息相关的文件")]),s._v(" "),a("p",[s._v("存放用户信息：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("/etc/passwd\n/etc/shadow\n")])])]),a("p",[s._v("存放组信息：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("/etc/group\n/etc/gshadow\n")])])]),a("p",[s._v("用户信息文件分析（每项用"),a("code",[s._v(":")]),s._v("隔开）")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("例如：jack:X:503:504:::/home/jack/:/bin/bash\njack　　"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用户名")]),s._v("\nX　　"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 口令、密码")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("503")]),s._v("　　"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用户id（0代表root、普通新建用户从500开始）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("504")]),s._v("　　"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 所在组")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v("　　"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 描述")]),s._v("\n/home/jack/　　"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用户主目录")]),s._v("\n/bin/bash　　"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用户缺省Shell")]),s._v("\n")])])]),a("p",[s._v("组信息文件分析")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("例如：jack:"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$!")]),s._v("$:???:13801:0:99999:7:*:*:\njack　　"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 组名")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$!")]),s._v("$　　"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 被加密的口令")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13801")]),s._v("　　"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建日期与今天相隔的天数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("　　"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 口令最短位数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("99999")]),s._v("　　"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用户口令")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("　　"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 到7天时提醒")]),s._v("\n*　　"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 禁用天数")]),s._v("\n*　　"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 过期天数")]),s._v("\n")])])]),a("h3",{attrs:{id:"实例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实例"}},[s._v("#")]),s._v(" 实例")]),s._v(" "),a("p",[s._v("如果是普通用户执行passwd只能修改自己的密码。如果新建用户后，要为新用户创建密码，则用passwd用户名，注意要以root用户的权限来创建。")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# passwd linuxde     # 更改或创建linuxde用户的密码；")]),s._v("\nChanging password "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" user linuxde.\nNew UNIX password:           "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 请输入新密码；")]),s._v("\nRetype new UNIX password:    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 再输入一次；")]),s._v("\npasswd: all authentication tokens updated successfully.  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 成功；")]),s._v("\n")])])]),a("p",[s._v("普通用户如果想更改自己的密码，直接运行passwd即可，比如当前操作的用户是linuxde。")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("linuxde@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("passwd")]),s._v("\nChanging password "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" user linuxde.  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 更改linuxde用户的密码；")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("current"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" UNIX password:    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 请输入当前密码；")]),s._v("\nNew UNIX password:          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 请输入新密码；")]),s._v("\nRetype new UNIX password:   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 确认新密码；")]),s._v("\npasswd: all authentication tokens updated successfully.  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 更改成功；")]),s._v("\n")])])]),a("p",[s._v("比如我们让某个用户不能修改密码，可以用"),a("code",[s._v("-l")]),s._v("选项来锁定：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# passwd -l linuxde     # 锁定用户linuxde不能更改密码；")]),s._v("\nLocking password "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" user linuxde.\npasswd: Success            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 锁定成功；")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("linuxde@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# su linuxde    # 通过su切换到linuxde用户；")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("linuxde@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("passwd")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# linuxde来更改密码；")]),s._v("\nChanging password "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" user linuxde.\nChanging password "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" linuxde\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("current"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" UNIX password:           "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输入linuxde的当前密码；")]),s._v("\npasswd: Authentication token manipulation error      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 失败，不能更改密码；")]),s._v("\n")])])]),a("p",[s._v("再来一例：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# passwd -d linuxde   # 清除linuxde用户密码；")]),s._v("\nRemoving password "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" user linuxde.\npasswd: Success                          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 清除成功；")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# passwd -S linuxde     # 查询linuxde用户密码状态；")]),s._v("\nEmpty password.                          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 空密码，也就是没有密码；")]),s._v("\n")])])]),a("p",[s._v("注意：当我们清除一个用户的密码时，登录时就无需密码，这一点要加以注意。")])])}),[],!1,null,null,null);a.default=e.exports}}]);