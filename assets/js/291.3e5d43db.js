(window.webpackJsonp=window.webpackJsonp||[]).push([[291],{603:function(s,a,t){"use strict";t.r(a);var e=t(14),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"ifstat"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ifstat"}},[s._v("#")]),s._v(" ifstat")]),s._v(" "),a("p",[s._v("统计网络接口流量状态")]),s._v(" "),a("h2",{attrs:{id:"补充说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#补充说明"}},[s._v("#")]),s._v(" 补充说明")]),s._v(" "),a("p",[a("strong",[s._v("ifstat命令")]),s._v(" 就像iostat/vmstat描述其它的系统状况一样，是一个统计网络接口活动状态的工具。ifstat工具系统中并不默认安装，需要自己下载源码包，重新编译安装，使用过程相对比较简单。")]),s._v(" "),a("h3",{attrs:{id:"下载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#下载"}},[s._v("#")]),s._v(" 下载")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("http://gael.roualland.free.fr/ifstat/  （官网）\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://gael.roualland.free.fr/ifstat/ifstat-1.1.tar.gz\n")])])]),a("h3",{attrs:{id:"编译安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#编译安装"}},[s._v("#")]),s._v(" 编译安装")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-zxvf")]),s._v(" ifstat-1.1.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" ifstat-1.1\n./configure            \n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 默认会安装到/usr/local/bin/目录中")]),s._v("\n")])])]),a("p",[s._v("注释：执行"),a("code",[s._v("which ifstat")]),s._v("输出"),a("code",[s._v("/usr/local/bin/ifstat")])]),s._v(" "),a("h3",{attrs:{id:"选项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#选项"}},[s._v("#")]),s._v(" 选项")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v(" 监测环路网络接口（lo）。缺省情况下，ifstat监测活动的所有非环路网络接口。经使用发现，加上-l参数能监测所有的网络接口的信息，而不是只监测 lo的接口信息，也就是说，加上-l参数比不加-l参数会多一个lo接口的状态信息。\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v(" 监测能检测到的所有网络接口的状态信息。使用发现，比加上-l参数还多一个plip0的接口信息，搜索一下发现这是并口（网络设备中有一 个叫PLIP "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Parallel Line Internet Protocol"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(". 它提供了并口"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".）\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-z")]),s._v(" 隐藏流量是无的接口，例如那些接口虽然启动了但是未用的\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v(" 指定要监测的接口,后面跟网络接口名\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" 等于加-d snmp:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("comm@"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#]host[/nn]] 参数，通过SNMP查询一个远程主机")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-h")]),s._v(" 显示简短的帮助信息\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v(" 关闭显示周期性出现的头部信息（也就是说，不加-n参数运行ifstat时最顶部会出现网络接口的名称，当一屏显示不下时，会再一次出现接口的名称，提示我们显示的流量信息具体是哪个网络接口的。加上-n参数把周期性的显示接口名称关闭，只显示一次）\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v(" 在每一行的开头加一个时间 戳（能告诉我们具体的时间）\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-T")]),s._v(" 报告所有监测接口的全部带宽（最后一列有个total，显示所有的接口的in流量和所有接口的out流量，简单的把所有接口的in流量相加,out流量相 加）\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-w")]),s._v("  用指定的列宽，而不是为了适应接口名称的长度而去自动放大列宽\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-W")]),s._v(" 如果内容比终端窗口的宽度还要宽就自动换行\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-S")]),s._v(" 在同一行保持状态更新（不滚动不换行）注：如果不喜欢屏幕滚动则此项非常方便，与bmon的显示方式类似\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-b")]),s._v(" 用kbits/s显示带宽而不是kbytes/s\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-q")]),s._v(" 安静模式，警告信息不出现\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v(" 显示版本信息\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" 指定一个驱动来收集状态信息\n")])])]),a("h3",{attrs:{id:"实例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实例"}},[s._v("#")]),s._v(" 实例")]),s._v(" "),a("p",[s._v("默认使用")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ifstat-1.1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ifstat")]),s._v("\n       eth0                eth1       \n KB/s "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v("  KB/s out   KB/s "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v("  KB/s out\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.07")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.20")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.07")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.15")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.58")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("\n")])])]),a("p",[s._v("默认ifstat不监控回环接口，显示的流量单位是KB。")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ifstat-1.1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ifstat -tT")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v("           eth0                eth1                eth2                eth3               Total      \nHH:MM:ss   KB/s "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v("  KB/s out   KB/s "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v("  KB/s out   KB/s "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v("  KB/s out   KB/s "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v("  KB/s out   KB/s "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v("  KB/s out\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":53:04      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.84")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.62")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1256.27")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1173.05")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.12")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.18")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1257.22")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1173.86")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":53:05      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.57")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.40")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.57")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.76")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.14")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.17")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":53:06      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.58")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.71")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.42")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.78")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.01")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.48")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":53:07      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.57")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.40")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.91")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.61")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.48")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.01")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":53:08      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.73")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.40")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("924.02")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1248.91")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("924.76")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1249.31")]),s._v("\n")])])]),a("p",[s._v("监控所有网络接口")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ifstat-1.1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ifstat -a")]),s._v("\n        lo                 eth0                eth1       \n KB/s "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v("  KB/s out   KB/s "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v("  KB/s out   KB/s "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v("  KB/s out\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.28")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.58")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.06")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.06")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.41")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.13")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.61")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.61")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.26")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.23")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);