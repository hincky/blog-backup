(window.webpackJsonp=window.webpackJsonp||[]).push([[163],{476:function(s,t,a){"use strict";a.r(t);var n=a(14),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"csplit"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#csplit"}},[s._v("#")]),s._v(" csplit")]),s._v(" "),t("p",[s._v("将一个大文件分割成小的碎片文件")]),s._v(" "),t("h2",{attrs:{id:"补充说明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#补充说明"}},[s._v("#")]),s._v(" 补充说明")]),s._v(" "),t("p",[t("strong",[s._v("csplit命令")]),s._v(" 用于将一个大文件分割成小的碎片，并且将分割后的每个碎片保存成一个文件。碎片文件的命名类似“xx00”，“xx01”。csplit命令是split的一个变体，split只能够根据文件大小或行数来分割，但csplit能够根据文件本身特点来分割文件。")]),s._v(" "),t("h3",{attrs:{id:"语法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#语法"}},[s._v("#")]),s._v(" 语法")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("csplit"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("选项"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("参数"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),t("h3",{attrs:{id:"选项"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#选项"}},[s._v("#")]),s._v(" 选项")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("-b"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("输出格式"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("或--suffix-format"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("输出格式"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("：预设的输出格式其文件名称为xx00，xx01等，用户可以通过改变"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("输出格式"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("来改变输出的文件名；\n-f"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("输出字首字符串"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("或--prefix"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("输出字首字符串"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("：预设的输出字首字符串其文件名为xx00，xx01等，如果制定输出字首字符串为“hello”，则输出的文件名称会变成hello00，hello、01"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n-k或--keep-files：保留文件，就算发生错误或中断执行，与不能删除已经输出保存的文件；\n-n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("输出文件名位数"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("或--digits"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("输出文件名位数"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("：预设的输出文件名位数其文件名称为xx00，xx01"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("如果用户指定输出文件名位数为“3”，则输出的文件名称会变成xx000，xx001等；\n-q或-s或--quiet或——silent：不显示指令执行过程；\n-z或--elide-empty-files：删除长度为0 Byte文件。\n")])])]),t("h3",{attrs:{id:"参数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参数"}},[s._v("#")]),s._v(" 参数")]),s._v(" "),t("ul",[t("li",[s._v("文件：指定要分割的原文件；")]),s._v(" "),t("li",[s._v("模式：指定要分割文件时的匹配模式。")])]),s._v(" "),t("h3",{attrs:{id:"实例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#实例"}},[s._v("#")]),s._v(" 实例")]),s._v(" "),t("p",[s._v("示例测试文件 server.log")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" server.log\nSERVER-1\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("con"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.1 suc\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("con"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.2 fai\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("dis"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.3 pen\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("con"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.4 suc\nSERVER-2\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("con"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.5 suc\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("con"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.6 fai\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("dis"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.7 pen\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("con"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.8 suc\nSERVER-3\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("con"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.9 suc\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("con"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.10 fai\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("dis"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.11 pen\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("con"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.10")]),s._v(".10.12 suc\n")])])]),t("p",[s._v("需要将server.log分割成server1.log、server2.log、server3.log，这些文件的内容分别取自原文件中不同的SERVER部分：")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost split"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# csplit server.log /SERVER/ -n2 -s {*} -f server -b "%02d.log"; rm server00.log')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost split"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ls")]),s._v("\nserver01.log  server02.log  server03.log  server.log\n")])])]),t("p",[t("strong",[s._v("命令详细说明：")])]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("/"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("正则表达式"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("/   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#匹配文本样式，比如/SERVER/，从第一行到包含SERVER的匹配行。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("*"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#表示根据匹配重复执行分割，直到文件尾停止，使用{整数}的形式指定分割执行的次数。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v("      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#静默模式，不打印其他信息。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v("      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#指定分割后的文件名后缀的数字个数。比如01、02、03等。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v("      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#指定分割后的文件名前缀。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-b")]),s._v("      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#指定后缀格式。比如%02d.log，类似于C语言中的printf参数格式。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" server00.log    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#是删除第一个文件，因为分割后的的第一个文件没有内容，匹配的单词就位于文件的第一行中。")]),s._v("\n")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);