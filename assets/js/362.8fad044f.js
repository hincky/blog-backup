(window.webpackJsonp=window.webpackJsonp||[]).push([[362],{672:function(s,a,t){"use strict";t.r(a);var e=t(14),r=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"lsblk"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lsblk"}},[s._v("#")]),s._v(" lsblk")]),s._v(" "),a("p",[s._v("列出块设备信息")]),s._v(" "),a("h2",{attrs:{id:"补充说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#补充说明"}},[s._v("#")]),s._v(" 补充说明")]),s._v(" "),a("p",[a("strong",[s._v("lsblk命令")]),s._v(" 用于列出所有可用块设备的信息，而且还能显示他们之间的依赖关系，但是它不会列出RAM盘的信息。块设备有硬盘，闪存盘，cd-ROM等等。lsblk命令包含在util-linux-ng包中，现在该包改名为util-linux。这个包带了几个其它工具，如dmesg。要安装lsblk，请在此处下载util-linux包。Fedora用户可以通过命令"),a("code",[s._v("sudo yum install util-linux-ng")]),s._v("来安装该包。")]),s._v(" "),a("h3",{attrs:{id:"选项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#选项"}},[s._v("#")]),s._v(" 选项")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("-a, "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--all")]),s._v("            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示所有设备。")]),s._v("\n-b, "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--bytes")]),s._v("          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 以bytes方式显示设备大小。")]),s._v("\n-d, "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--nodeps")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 不显示 slaves 或 holders。")]),s._v("\n-D, "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--discard")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# print discard capabilities。")]),s._v("\n-e, "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--exclude")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("list"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 排除设备 (default: RAM disks)。")]),s._v("\n-f, "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--fs")]),s._v("             "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示文件系统信息。")]),s._v("\n-h, "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--help")]),s._v("           "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示帮助信息。")]),s._v("\n-i, "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--ascii")]),s._v("          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# use ascii characters only。")]),s._v("\n-m, "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--perms")]),s._v("          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示权限信息。")]),s._v("\n-l, "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--list")]),s._v("           "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用列表格式显示。")]),s._v("\n-n, "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--noheadings")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 不显示标题。")]),s._v("\n-o, "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--output")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("list"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输出列。")]),s._v("\n-P, "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--pairs")]),s._v("          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# 使用key="value"格式显示。')]),s._v("\n-r, "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--raw")]),s._v("            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用原始格式显示。")]),s._v("\n-t, "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--topology")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示拓扑结构信息。")]),s._v("\n")])])]),a("h3",{attrs:{id:"实例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实例"}},[s._v("#")]),s._v(" 实例")]),s._v(" "),a("p",[s._v("lsblk命令默认情况下将以树状列出所有块设备。打开终端，并输入以下命令：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("lsblk\n\nNAME   MAJ:MIN "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v("   SIZE RO "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" mountpoint\nsda      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(":0    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("232")]),s._v(".9G  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" disk \n├─sda1   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(":1    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("46")]),s._v(".6G  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" part /\n├─sda2   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(":2    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     1K  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" part \n├─sda5   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(":5    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   190M  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" part /boot\n├─sda6   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(":6    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(".7G  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" part "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("SWAP"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n├─sda7   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(":7    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("93")]),s._v(".1G  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" part /data\n└─sda8   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(":8    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("89")]),s._v(".2G  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" part /personal\nsr0     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":0    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  1024M  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" rom\n")])])]),a("p",[s._v("7个栏目名称如下：")]),s._v(" "),a("ol",[a("li",[a("strong",[s._v("NAME")]),s._v(" ：这是块设备名。")]),s._v(" "),a("li",[a("strong",[s._v("MAJ:MIN")]),s._v(" ：本栏显示主要和次要设备号。")]),s._v(" "),a("li",[a("strong",[s._v("RM")]),s._v(" ：本栏显示设备是否可移动设备。注意，在本例中设备sdb和sr0的RM值等于1，这说明他们是可移动设备。")]),s._v(" "),a("li",[a("strong",[s._v("SIZE")]),s._v(" ：本栏列出设备的容量大小信息。例如298.1G表明该设备大小为298.1GB，而1K表明该设备大小为1KB。")]),s._v(" "),a("li",[a("strong",[s._v("RO")]),s._v(" ：该项表明设备是否为只读。在本案例中，所有设备的RO值为0，表明他们不是只读的。")]),s._v(" "),a("li",[a("strong",[s._v("TYPE")]),s._v(" ：本栏显示块设备是否是磁盘或磁盘上的一个分区。在本例中，sda和sdb是磁盘，而sr0是只读存储（rom）。")]),s._v(" "),a("li",[a("strong",[s._v("MOUNTPOINT")]),s._v(" ：本栏指出设备挂载的挂载点。")])]),s._v(" "),a("p",[s._v("默认选项不会列出所有空设备。要查看这些空设备，请使用以下命令：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("lsblk "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v("\n")])])]),a("p",[s._v("lsblk命令也可以用于列出一个特定设备的拥有关系，同时也可以列出组和模式。可以通过以下命令来获取这些信息：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("lsblk "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-m")]),s._v("\n")])])]),a("p",[s._v("该命令也可以只获取指定设备的信息。这可以通过在提供给lsblk命令的选项后指定设备名来实现。例如，你可能对了解以字节显示你的磁盘驱动器大小比较感兴趣，那么你可以通过运行以下命令来实现：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("lsblk "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-b")]),s._v(" /dev/sda\n\n等价于\n\nlsblk "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--bytes")]),s._v(" /dev/sda\n")])])]),a("p",[s._v("你也可以组合几个选项来获取指定的输出。例如，你也许想要以列表格式列出设备，而不是默认的树状格式。你可能也对移除不同栏目名称的标题感兴趣。可以将两个不同的选项组合，以获得期望的输出，命令如下：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("lsblk "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-nl")]),s._v("\n")])])]),a("p",[s._v("要获取SCSI设备的列表，你只能使用-S选项。该选项是大写字母S，不能和-s选项混淆，该选项是用来以颠倒的顺序打印依赖的。")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("lsblk "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-S")]),s._v("\n")])])]),a("p",[s._v("lsblk列出SCSI设备，而-s是逆序选项（将设备和分区的组织关系逆转过来显示），其将给出如下输出。输入命令：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("lsblk "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v("\n")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);