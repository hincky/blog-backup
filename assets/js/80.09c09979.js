(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{393:function(t,e,l){"use strict";l.r(e);var a=l(14),i=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"kubectl-command"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#kubectl-command"}},[t._v("#")]),t._v(" kubectl-command")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands#-strong-getting-started-strong-",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网命令参考"),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:"通用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#通用"}},[t._v("#")]),t._v(" 通用")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("命令")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("kubectl api-resources")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("查看k8s资源以及缩写")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v('kubectl create cj echo-cj --image=busybox --schedule="" --dry-run=client -o yaml > filename.yaml')]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("生成cronjob模板yaml，要生成其他对象改掉cj即可")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("kubectl explain pod.spec.containers.env.valueFrom")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("查看API对象具体细分字段的用法，比如pod这里的valueFrom")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("kubectl get -o yaml po nginx-ingress-controller-rdvlf -n ingress-nginx > nginx-ingress-controller.yaml")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("将现有资源反向生成yaml文件")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("kubectl get -o json po nginx-ingress-controller-rdvlf -n ingress-nginx > nginx-ingress-controller.yaml")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("将现有资源反向生成json文件")])])])]),t._v(" "),e("h2",{attrs:{id:"创建-删除资源"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建-删除资源"}},[t._v("#")]),t._v(" 创建/删除资源")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("命令")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("kubectl create -f xxx.yml")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("创建资源")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("kubectl delete -f xxx.yml")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("删除资源")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("kubectl apply -f xxx.yml")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("部署资源")])])])]),t._v(" "),e("h2",{attrs:{id:"node"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#node"}},[t._v("#")]),t._v(" node")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("命令")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("kubectl version")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("查看集群版本信息")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("kubectl cluster-info")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("查看集群详细信息")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("kubectl get node")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("查看集群中的所有Node")])])])]),t._v(" "),e("h2",{attrs:{id:"pod"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pod"}},[t._v("#")]),t._v(" pod")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("命令")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("kubectl get po/pods")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("查看所有的pod状态")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("kubectl get pods -o wide")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("查看所有的pod状态")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("kubectl get pods -n kube-system")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("通过namespace查询pod")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("kubectl get pods -l app=kubernetes-nginx")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("通过label查询pod")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("kubectl get pods -l 'app in (ngx, nginx, ngx-dep)'")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("查询label在范围内的pod")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("kubectl describe pods")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("查看pod详细信息")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("kubectl describe pods $POD_NAME")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("查看具体pod的详细信息")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("kubectl describe pods | grep Image")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("查看pod镜像版本号")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("export POD_NAME=kubernetes-nginx-78bcc44665-8fnnn")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("将Pod的名称设置为环境变量，方便以$POD_NAME使用")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("kubectl logs $POD_NAME")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("查看Pod打印的日志")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("kubectl exec $POD_NAME -- env")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("使用exec和env命令查看pod容器环境变量")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("kubectl exec -ti $POD_NAME -- bash")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("使用exec和env命令查看pod容器环境变量")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("kubectl label pod $POD_NAME version=v1")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("给pod添加label")])])])]),t._v(" "),e("h2",{attrs:{id:"deployment"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#deployment"}},[t._v("#")]),t._v(" deployment")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("命令")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("kubectl get deploy/deployment")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("查看所有deployments")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("kubectl describe deployment")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("查看deployment详细信息")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("kubectl scale deployments/kubernetes-nginx --replicas=4")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("通过deployment对应用数量缩放到4个副本")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("kubectl set image deployments/kubernetes-nginx nginx=nginx:1.19")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("滚动更新pod镜像版本")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("kubectl rollout undo deployments/kubernetes-nginx")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("回滚到原来的pod镜像版本")])])])]),t._v(" "),e("h2",{attrs:{id:"service"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#service"}},[t._v("#")]),t._v(" service")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("命令")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("kubectl get services")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("查看所有services")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("kubectl get svc")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("查看所有services")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("kubectl get services -l app=kubernetes-nginx")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("通过label查询service")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v('kubectl expose deployment/kubernetes-nginx --type="NodePort" --port 80')]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("创建service来暴露deployment")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("kubectl describe services/kubernetes-nginx")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("查看Service的详情，NodePort查看对外的端口")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("kubectl delete service -l app=kubernetes-nginx")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("通过label删除service")])])])]),t._v(" "),e("h2",{attrs:{id:"proxy"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#proxy"}},[t._v("#")]),t._v(" proxy")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("命令")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("kubectl proxy")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("通过代理来暴露接口以供访问")])])])]),t._v(" "),e("h2",{attrs:{id:"namespace"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#namespace"}},[t._v("#")]),t._v(" namespace")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("命令")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("kubectl get ns")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("列出所有命名空间")])])])]),t._v(" "),e("h2",{attrs:{id:"replication-controller"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#replication-controller"}},[t._v("#")]),t._v(" replication controller")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("命令")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("kubectl get")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}})])])]),t._v(" "),e("h2",{attrs:{id:"replica-set"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#replica-set"}},[t._v("#")]),t._v(" replica set")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("命令")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("kubectl get rs")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("获取所有rs")])])])])])}),[],!1,null,null,null);e.default=i.exports}}]);