(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{340:function(a,t,s){"use strict";s.r(t);var e=s(14),r=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"多表查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#多表查询"}},[a._v("#")]),a._v(" 多表查询")]),a._v(" "),t("h2",{attrs:{id:"交叉连接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#交叉连接"}},[a._v("#")]),a._v(" 交叉连接")]),a._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("SELECT")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("FROM")]),a._v(" player "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("CROSS")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("JOIN")]),a._v(" team\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("SELECT")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("FROM")]),a._v(" t1 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("CROSS")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("JOIN")]),a._v(" t2 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("CROSS")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("JOIN")]),a._v(" t3\n")])])]),t("h2",{attrs:{id:"等值与自然连接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#等值与自然连接"}},[a._v("#")]),a._v(" 等值与自然连接")]),a._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("SELECT")]),a._v(" player_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" player"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("team_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" player_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" height"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" team_name "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("FROM")]),a._v(" player"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" team "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("WHERE")]),a._v(" player"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("team_id "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" team"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("team_id\n")])])]),t("p",[a._v("使用别名")]),a._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("SELECT")]),a._v(" player_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("team_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" player_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" height"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" team_name "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("FROM")]),a._v(" player "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("AS")]),a._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" team "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("AS")]),a._v(" b "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("WHERE")]),a._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("team_id "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("team_id\n")])])]),t("blockquote",[t("p",[a._v("下面多加一个ON连接，作用和自然连接一样，理解更直观")])]),a._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("SELECT")]),a._v(" player_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" team_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" player_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" height"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" team_name "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("FROM")]),a._v(" player "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("NATURAL")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("JOIN")]),a._v(" team\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("SELECT")]),a._v(" player_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" player"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("team_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" player_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" height"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" team_name "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("FROM")]),a._v(" player "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("JOIN")]),a._v(" team "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("ON")]),a._v(" player"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("team_id "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" team"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("team_id\n")])])]),t("p",[a._v("连接条件是ON player.team_id = team.team_id，相当于是用 ON 进行了 team_id 字段的等值连接。")]),a._v(" "),t("p",[a._v("需要连接的表会采用 JOIN 进行连接，ON 指定了连接条件，后面可以是等值连接，也可以采用非等值连接。")]),a._v(" "),t("h2",{attrs:{id:"非等值连接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#非等值连接"}},[a._v("#")]),a._v(" 非等值连接")]),a._v(" "),t("p",[a._v("想要知道每个球员的身高的级别")]),a._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("SELECT")]),a._v(" p"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("player_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" p"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("height"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" h"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("height_level\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("FROM")]),a._v(" player "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("AS")]),a._v(" p"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" height_grades "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("AS")]),a._v(" h\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("WHERE")]),a._v(" p"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("height "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("BETWEEN")]),a._v(" h"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("height_lowest "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("AND")]),a._v(" h"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("height_highest\n")])])]),t("h2",{attrs:{id:"左连接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#左连接"}},[a._v("#")]),a._v(" 左连接")]),a._v(" "),t("p",[a._v("主表在左边，从表在右边")]),a._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("SELECT")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("FROM")]),a._v(" player"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" team "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("where")]),a._v(" player"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("team_id "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" team"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("team_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("+")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("SELECT")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("FROM")]),a._v(" player "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("LEFT")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("JOIN")]),a._v(" team "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("on")]),a._v(" player"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("team_id "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" team"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("team_id\n")])])]),t("p",[a._v("表格中一共有 3 支球队，现在这 3 支球队需要进行比赛，请用一条 SQL 语句显示出所有可能的比赛组合。")]),a._v(" "),t("blockquote",[t("p",[a._v("分主客队")])]),a._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("SELECT")]),a._v(" CONCAT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("kedui"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("team_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("' VS '")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" zhudui"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("team_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("as")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'客队 VS 主队'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("FROM")]),a._v(" team "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("as")]),a._v(" zhudui "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("LEFT")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("JOIN")]),a._v(" team "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("as")]),a._v(" kedui "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("on")]),a._v(" zhudui"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("team_id"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<>")]),a._v("kedui"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("team_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),t("blockquote",[t("p",[a._v("不分主客队")])]),a._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("SELECT")]),a._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("team_name "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("as")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'队伍1'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'VS'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("team_name "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("as")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'队伍2'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("FROM")]),a._v(" team "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("as")]),a._v(" a "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("team "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("as")]),a._v(" b "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("where")]),a._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("team_id"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("team_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),t("h2",{attrs:{id:"右连接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#右连接"}},[a._v("#")]),a._v(" 右连接")]),a._v(" "),t("p",[a._v("主表在右边，从表在左边")]),a._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("SELECT")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("FROM")]),a._v(" player"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" team "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("where")]),a._v(" player"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("team_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("+")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" team"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("team_id\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("SELECT")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("FROM")]),a._v(" player "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("RIGHT")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("JOIN")]),a._v(" team "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("on")]),a._v(" player"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("team_id "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" team"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("team_id\n")])])]),t("h2",{attrs:{id:"自连接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#自连接"}},[a._v("#")]),a._v(" 自连接")]),a._v(" "),t("p",[a._v("查看比布雷克·格里芬高的球员都有谁，以及他们的对应身高")]),a._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("SELECT")]),a._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("player_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("height "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("FROM")]),a._v(" player "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("as")]),a._v(" a "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" player "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("as")]),a._v(" b "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("WHERE")]),a._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("player_name "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'布雷克-格里芬'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("and")]),a._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("height "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("height\n")])])]),t("p",[a._v("如果不用自连接就要分为两次sql查询")]),a._v(" "),t("ol",[t("li",[a._v("查询布雷克·格里芬的身高")]),a._v(" "),t("li",[a._v("比 2.08 高的球员都有谁，以及他们的对应身高：")])]),a._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("SELECT")]),a._v(" height "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("FROM")]),a._v(" player "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("WHERE")]),a._v(" player_name "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'布雷克-格里芬'")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("SELECT")]),a._v(" player_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" height "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("FROM")]),a._v(" player "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("WHERE")]),a._v(" height "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2.08")]),a._v("\n")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);