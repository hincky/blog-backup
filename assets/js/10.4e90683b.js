(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{281:function(t,e,s){t.exports=s.p+"assets/img/suppot-k8s-version.c99fab2d.png"},282:function(t,e,s){t.exports=s.p+"assets/img/nginx-ingres-po-svc.692ef26b.png"},366:function(t,e,s){"use strict";s.r(e);var n=s(14),a=Object(n.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"安装nginx-ingress-controller"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装nginx-ingress-controller"}},[t._v("#")]),t._v(" 安装nginx ingress controller")]),t._v(" "),e("h2",{attrs:{id:"对应好版本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#对应好版本"}},[t._v("#")]),t._v(" 对应好版本")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://docs.nginx.com/nginx-ingress-controller/",target:"_blank",rel:"noopener noreferrer"}},[t._v("nginx ingress controller官网地址"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("下图给出了NIC和k8s的版本匹配关系图\n"),e("img",{attrs:{src:s(281),alt:""}})]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/nginxinc/kubernetes-ingress/releases",target:"_blank",rel:"noopener noreferrer"}},[t._v("其他NIC版本参考官网github"),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:"helm安装nic"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#helm安装nic"}},[t._v("#")]),t._v(" helm安装NIC")]),t._v(" "),e("blockquote",[e("p",[t._v("本文介绍的是helm的方式安装")])]),t._v(" "),e("p",[e("a",{attrs:{href:"https://docs.nginx.com/nginx-ingress-controller/installation/",target:"_blank",rel:"noopener noreferrer"}},[t._v("更多安装方式参考官网地址"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("将项目克隆到本地，注意"),e("strong",[t._v("对应好版本")]),t._v("，笔者的k8s集群是"),e("code",[t._v("1.24")]),t._v("，所以对应安装"),e("code",[t._v("2.3.1")]),t._v("的NIC即可")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/nginxinc/kubernetes-ingress.git "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--branch")]),t._v(" v2.3.1\n\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" kubernetes-ingress/deployments/helm-chart\n")])])]),e("p",[t._v("添加chart")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("helm repo "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" nginx-stable https://helm.nginx.com/stable\nhelm repo update\n")])])]),e("h2",{attrs:{id:"安装chart"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装chart"}},[t._v("#")]),t._v(" 安装chart")]),t._v(" "),e("p",[t._v("创建命名空间，不然就安装到默认命名空间去了")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("kubectl create ns nginx-ingress\n")])])]),e("p",[t._v("有了chart资源后，就能安装nginx了")]),t._v(" "),e("ul",[e("li",[t._v("通过helm仓库安装")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("helm "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" hincky nginx-stable/nginx-ingress "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-n")]),t._v(" nginx-ingress\n")])])]),e("p",[t._v("好了之后就能根据ns查看了")]),t._v(" "),e("p",[e("img",{attrs:{src:s(282),alt:""}})]),t._v(" "),e("h2",{attrs:{id:"nginx命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#nginx命令"}},[t._v("#")]),t._v(" nginx命令")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("命令")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("nginx")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}}),t._v(" "),e("td",{staticStyle:{"text-align":"center"}})])])])])}),[],!1,null,null,null);e.default=a.exports}}]);