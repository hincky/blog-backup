(window.webpackJsonp=window.webpackJsonp||[]).push([[507],{819:function(s,t,a){"use strict";a.r(t);var e=a(14),n=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"scp"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#scp"}},[s._v("#")]),s._v(" scp")]),s._v(" "),t("p",[s._v("加密的方式在本地主机和远程主机之间复制文件")]),s._v(" "),t("h2",{attrs:{id:"补充说明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#补充说明"}},[s._v("#")]),s._v(" 补充说明")]),s._v(" "),t("p",[t("strong",[s._v("scp命令")]),s._v(" 用于在Linux下进行远程拷贝文件的命令，和它类似的命令有cp，不过cp只是在本机进行拷贝不能跨服务器，而且scp传输是加密的。可能会稍微影响一下速度。当你服务器硬盘变为只读read only system时，用scp可以帮你把文件移出来。另外，scp还非常不占资源，不会提高多少系统负荷，在这一点上，rsync就远远不及它了。虽然 rsync比scp会快一点，但当小文件众多的情况下，rsync会导致硬盘I/O非常高，而scp基本不影响系统正常使用。")]),s._v(" "),t("h3",{attrs:{id:"语法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#语法"}},[s._v("#")]),s._v(" 语法")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("scp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("选项"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("参数"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),t("h3",{attrs:{id:"选项"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#选项"}},[s._v("#")]),s._v(" 选项")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("-1：使用ssh协议版本1；\n-2：使用ssh协议版本2；\n-4：使用ipv4；\n-6：使用ipv6；\n-B：以批处理模式运行；\n-C：使用压缩；\n-F：指定ssh配置文件；\n-i：identity_file 从指定文件中读取传输时使用的密钥文件（例如亚马逊云pem），此参数直接传递给ssh；\n-l：指定宽带限制；\n-o：指定使用的ssh选项；\n-P：指定远程主机的端口号；\n-p：保留文件的最后修改时间，最后访问时间和权限模式；\n-q：不显示复制进度；\n-r：以递归方式复制。\n")])])]),t("h3",{attrs:{id:"参数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参数"}},[s._v("#")]),s._v(" 参数")]),s._v(" "),t("ul",[t("li",[s._v("源文件：指定要复制的源文件。")]),s._v(" "),t("li",[s._v("目标文件：目标文件。格式为"),t("code",[s._v("user@host：filename")]),s._v("（文件名为目标文件的名称）。")])]),s._v(" "),t("h3",{attrs:{id:"实例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#实例"}},[s._v("#")]),s._v(" 实例")]),s._v(" "),t("p",[s._v("从远程复制到本地的scp命令与上面的命令雷同，只要将从本地复制到远程的命令后面2个参数互换顺序就行了。")]),s._v(" "),t("p",[t("strong",[s._v("从远程机器复制文件到本地目录")])]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" root@10.10.10.10:/opt/soft/nginx-0.5.38.tar.gz /opt/soft/\n")])])]),t("p",[s._v("从10.10.10.10机器上的"),t("code",[s._v("/opt/soft/")]),s._v("的目录中下载nginx-0.5.38.tar.gz 文件到本地"),t("code",[s._v("/opt/soft/")]),s._v("目录中。")]),s._v(" "),t("p",[t("strong",[s._v("从亚马逊云复制OpenVPN到本地目录")])]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v(" amazon.pem ubuntu@10.10.10.10:/usr/local/openvpn_as/etc/exe/openvpn-connect-2.1.3.110.dmg openvpn-connect-2.1.3.110.dmg\n")])])]),t("p",[s._v("从10.10.10.10机器上下载openvpn安装文件到本地当前目录来。")]),s._v(" "),t("p",[t("strong",[s._v("从远程机器复制到本地")])]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v(" root@10.10.10.10:/opt/soft/mongodb /opt/soft/\n")])])]),t("p",[s._v("从10.10.10.10机器上的"),t("code",[s._v("/opt/soft/")]),s._v("中下载mongodb目录到本地的"),t("code",[s._v("/opt/soft/")]),s._v("目录来。")]),s._v(" "),t("p",[t("strong",[s._v("上传本地文件到远程机器指定目录")])]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" /opt/soft/nginx-0.5.38.tar.gz root@10.10.10.10:/opt/soft/scptest\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定端口 2222")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-rp")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-P")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2222")]),s._v(" /opt/soft/nginx-0.5.38.tar.gz root@10.10.10.10:/opt/soft/scptest\n")])])]),t("p",[s._v("复制本地"),t("code",[s._v("/opt/soft/")]),s._v("目录下的文件nginx-0.5.38.tar.gz到远程机器10.10.10.10的"),t("code",[s._v("opt/soft/scptest")]),s._v("目录。")]),s._v(" "),t("p",[t("strong",[s._v("上传本地目录到远程机器指定目录")])]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v(" /opt/soft/mongodb root@10.10.10.10:/opt/soft/scptest\n")])])]),t("p",[s._v("上传本地目录"),t("code",[s._v("/opt/soft/mongodb")]),s._v("到远程机器10.10.10.10上"),t("code",[s._v("/opt/soft/scptest")]),s._v("的目录中去。")])])}),[],!1,null,null,null);t.default=n.exports}}]);