(window.webpackJsonp=window.webpackJsonp||[]).push([[579],{891:function(a,e,t){"use strict";t.r(e);var s=t(14),l=Object(s.a)({},(function(){var a=this,e=a._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"tempfile"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tempfile"}},[a._v("#")]),a._v(" tempfile")]),a._v(" "),e("p",[a._v("shell中给临时文件命名")]),a._v(" "),e("h2",{attrs:{id:"补充说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#补充说明"}},[a._v("#")]),a._v(" 补充说明")]),a._v(" "),e("p",[a._v("有时候在写Shell脚本的时候需要一些临时存储数据的才做，最适合存储临时文件数据的位置就是"),e("code",[a._v("/tmp")]),a._v("，因为该目录中所有的内容在系统重启后就会被清空。下面是两种方法为临时数据生成标准的文件名。")]),a._v(" "),e("h3",{attrs:{id:"tempfile命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tempfile命令"}},[a._v("#")]),a._v(" tempfile命令")]),a._v(" "),e("p",[e("code",[a._v("tempfile命令")]),a._v("只有在基于Debian的发行版中才默认自带，比如Ubuntu，其他发行版没有这个命令。")]),a._v(" "),e("p",[a._v("用tempfile命令为一个临时文件命名：")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("temp_file_name")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),a._v("tempfile"),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v("\n")])])]),e("p",[a._v("用一个加带了随机数的文件名作为临时文件命名：")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("temp_file_name")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"/tmp/file_'),e("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$RANDOM")]),a._v('"')]),a._v("\n")])])]),e("p",[a._v("$RANDOM是一个返回随机数的环境变量。")]),a._v(" "),e("h3",{attrs:{id:"变量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#变量"}},[a._v("#")]),a._v(" $$变量")]),a._v(" "),e("p",[a._v("如果没有tempfile命令的Linux发行版，也可以使用自己的临时文件名：")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("temp_file_name")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"/tmp/file.$"')]),a._v("\n")])])]),e("p",[e("code",[a._v("$$")]),a._v("是系统预定义变量，显示当前所在进程的进程号，用"),e("code",[a._v(".$$")]),a._v("作为添加的后缀会被扩展成当前运行脚本的进程id。")])])}),[],!1,null,null,null);e.default=l.exports}}]);