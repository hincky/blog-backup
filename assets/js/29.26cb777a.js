(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{334:function(t,e,a){"use strict";a.r(e);var _=a(14),l=Object(_.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"函数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#函数"}},[t._v("#")]),t._v(" 函数")]),t._v(" "),e("h2",{attrs:{id:"聚集函数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#聚集函数"}},[t._v("#")]),t._v(" 聚集函数")]),t._v(" "),e("p",[t._v("AVG、MAX、MIN 等聚集函数会自动忽略值为 NULL 的数据行")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("聚集函数")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("sql例句")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("备注")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("总行数COUNT()")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("SELECT COUNT(*) FROM heros WHERE hp_max > 6000")]),t._v(","),e("code",[t._v("SELECT COUNT(role_assist) FROM heros WHERE hp_max > 6000")]),t._v(","),e("code",[t._v("SELECT COUNT(DISTINCT hp_max) FROM heros")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("COUNT(role_assist)会忽略值为 NULL 的数据行，而 COUNT(*) 只是统计数据行数，不管某个字段是否为 NULL。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("最大值MAX()")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("SELECT MAX(hp_max) FROM heros WHERE role_main = '射手' or role_assist = '射手")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("最小值MIN()")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("SELECT COUNT(*), AVG(hp_max), MAX(mp_max), MIN(attack_max), SUM(defense_max) FROM heros WHERE role_main = '射手' or role_assist = '射手'")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("求和SUM()")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("SELECT COUNT(*), AVG(hp_max), MAX(mp_max), MIN(attack_max), SUM(defense_max) FROM heros WHERE role_main = '射手' or role_assist = '射手'")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("平均值AVG()")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("SELECT COUNT(*), AVG(hp_max), MAX(mp_max), MIN(attack_max), SUM(defense_max) FROM heros WHERE role_main = '射手' or role_assist = '射手'")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}})])])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("查询需求")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("语句")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("结果")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("查询射手（主要定位或者次要定位是射手）的最大生命值的最大值是多少")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("SELECT MAX(hp_max) FROM heros WHERE role_main = '射手' or role_assist = '射手'")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("6014")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("求平均值、最大值、最小值，以及总的防御最大值")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("SELECT COUNT(*), AVG(hp_max), MAX(mp_max), MIN(attack_max), SUM(defense_max) FROM heros WHERE role_main = '射手' or role_assist = '射手'")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("汉字则按照全拼拼音进行排列")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("SELECT MIN("),e("strong",[t._v("CONVERT(name USING gbk)")]),t._v("), MAX(CONVERT(name USING gbk)) FROM heros")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("查询不同的生命最大值的英雄数量是多少。")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("SELECT COUNT(DISTINCT hp_max) FROM heros")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}})])])]),t._v(" "),e("blockquote",[e("p",[t._v("注意：")])]),t._v(" "),e("ul",[e("li",[t._v("先把 name 字段统一转化为 gbk 类型，使用CONVERT(name USING gbk)，然后再使用 MIN 和 MAX 取最小值和最大值 eg "),e("code",[t._v("SELECT MIN(CONVERT(name USING gbk)), MAX(CONVERT(name USING gbk)) FROM heros")])]),t._v(" "),e("li",[t._v("先用 DISTINCT 函数取不同的数据，然后再使用聚集函数 eg "),e("code",[t._v("SELECT COUNT(DISTINCT hp_max) FROM heros")])])]),t._v(" "),e("h2",{attrs:{id:"算术函数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#算术函数"}},[t._v("#")]),t._v(" 算术函数")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("算术函数")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("sql例句")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("绝对值ABS()")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("SELECT ABS(-2)，运行结果为 2。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("取余 MOD()")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("SELECT MOD(101,3)，运行结果 2。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("四舍五入，小数位数 ROUND()")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("SELECT ROUND(37.25,1)，运行结果 37.3。")])])])]),t._v(" "),e("h2",{attrs:{id:"字符串函数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#字符串函数"}},[t._v("#")]),t._v(" 字符串函数")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("算术函数")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("定义")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("sql例句")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("CONCAT()")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("多个字符串拼接")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("SELECT CONCAT('abc', 123)，运行结果为 abc123。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("LENGTH()")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("计算字段长度，汉字=3个字符")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("SELECT LENGTH('你好')，运行结果为 6。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("CHAR_LENGTH()")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("计算字段长度，都记为一个")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("SELECT CHAR_LENGTH('你好')，运行结果为 2。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("LOWER()")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("小写")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("SELECT LOWER('ABC')，运行结果为 abc。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("UPPER()")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("大写")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("SELECT UPPER('abc')，运行结果 ABC。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("REPLACE()")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("替换函数")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("SELECT REPLACE('fabcd', 'abc', 123)，运行结果为 f123d。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("SUBSTRING()")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("截取字符串：源字符串，开始位置，截取长度")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("SELECT SUBSTRING('fabcd', 1,3)，运行结果为 fab。")])])])]),t._v(" "),e("h2",{attrs:{id:"日期函数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#日期函数"}},[t._v("#")]),t._v(" 日期函数")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("日期函数")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("定义")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("sql例句")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("CURRENT_DATE()")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("系统当前日期")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("SELECT CURRENT_DATE()，运行结果为 2019-04-03")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("CURRENT_TIME()")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("系统当前时间，没有具体日期")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("SELECT CURRENT_TIME()，运行结果为 21:26:34。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("CURRENT_TIMESTAMP()")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("系统当前时间，日期+时间")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("SELECT CURRENT_TIMESTAMP()，运行结果为 2019-04-03 21:26:34。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("EXTRACT()")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("抽取具体的年月日")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("SELECT EXTRACT(YEAR FROM '2019-04-03')，运行结果为 2019。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("DATE()")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("返回时间的日期部分")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("SELECT DATE('2019-04-01 12:00:05')，运行结果为 2019-04-01。")])])])]),t._v(" "),e("blockquote",[e("p",[t._v("日期函数的比较，使用"),e("code",[t._v("DATE(xxx)")]),t._v("来进行比较是更安全的")])]),t._v(" "),e("blockquote",[e("p",[t._v("DATE 日期格式必须是 yyyy-mm-dd 的形式。如果要进行日期比较，就要使用 DATE 函数，不要直接使用日期与字符串进行比较")])]),t._v(" "),e("h2",{attrs:{id:"转换函数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#转换函数"}},[t._v("#")]),t._v(" 转换函数")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("转换函数")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("定义")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("sql例句")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("CAST()")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("数据类型转换，参数是一个表达式，通过"),e("code",[t._v("AS")]),t._v("分割原始数据和目标数据")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("SELECT CAST(123.123 AS INT)，运行结果会报错")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("CAST()")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("数据类型转换，参数是一个表达式，通过"),e("code",[t._v("AS")]),t._v("分割原始数据和目标数据")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("SELECT CAST(123.123 AS DECIMAL(8,2))，运行结果为 123.12")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("COALESCE()")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("返回一个非空数值")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("SELECT COALESCE(null,1,2)，运行结果为 1")])])])]),t._v(" "),e("blockquote",[e("p",[t._v("DECIMAL(a,b)来指定小数类型，其中 a 代表整数部分和小数部分加起来最大的位数，b 代表小数位数")])])])}),[],!1,null,null,null);e.default=l.exports}}]);