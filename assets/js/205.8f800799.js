(window.webpackJsonp=window.webpackJsonp||[]).push([[205],{517:function(s,a,t){"use strict";t.r(a);var e=t(14),r=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"e2fsck"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#e2fsck"}},[s._v("#")]),s._v(" e2fsck")]),s._v(" "),a("p",[s._v("用于检查第二扩展文件系统的完整性")]),s._v(" "),a("h2",{attrs:{id:"补充说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#补充说明"}},[s._v("#")]),s._v(" 补充说明")]),s._v(" "),a("p",[a("strong",[s._v("e2fsck命令")]),s._v(" 用于检查第二扩展文件系统的完整性，通过适当的选项可以尝试修复出现的错误。")]),s._v(" "),a("p",[s._v("e2fsck执行后的传回值及代表意义如下：")]),s._v(" "),a("ul",[a("li",[s._v("0 没有任何错误发生。")]),s._v(" "),a("li",[s._v("1 文件系统发生错误，并且已经修正。")]),s._v(" "),a("li",[s._v("2 文件系统发生错误，并且已经修正。")]),s._v(" "),a("li",[s._v("4 文件系统发生错误，但没有修正。")]),s._v(" "),a("li",[s._v("8 运作时发生错误。")]),s._v(" "),a("li",[s._v("16 使用的语法发生错误。")]),s._v(" "),a("li",[s._v("128 共享的函数库发生错误。")])]),s._v(" "),a("h3",{attrs:{id:"语法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#语法"}},[s._v("#")]),s._v(" 语法")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("e2fsck"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("选项"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("参数"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("h3",{attrs:{id:"选项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#选项"}},[s._v("#")]),s._v(" 选项")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("-a：不询问使用者意见，便自动修复文件系统；\n-b"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("superblock"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("：指定superblock，而不使用预设的superblock；\n-B"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("区块大小"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("：指定区块的大小，单位为字节；\n-c：一并执行badblocks，以标示损坏的区块；\n-C：将检查过程的信息完整记录在file descriptor中，使得整个检查过程都能完整监控；\n-d：显示排错信息；\n-f：即使文件系统没有错误迹象，仍强制地检查正确性；\n-F：执行前先清除设备的缓冲区；\n-l"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("文件"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("：将文件中指定的区块加到损坏区块列表；\n-L"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("文件"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("：先清除损坏区块列表，再将文件中指定的区块加到损坏区块列表。因此损坏区块列表的区块跟文件中指定的区块是一样的；\n-n：以只读模式开启文件系统，并采取非互动方式执行，所有的问题对话均设置以"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"no"')]),s._v("回答；\n-p：不询问使用者意见，便自动修复文件系统；\n-r：此参数只为了兼容性而存在，并无实际作用；\n-s：如果文件系统的字节顺序不适当，就交换字节顺序，否则不做任何动作；\n-S：不管文件系统的字节顺序，一律交换字节顺序；\n-t：显示时间信息；\n-v：执行时显示详细的信息；\n-V：显示版本信息；\n-y：采取非互动方式执行，所有的问题均设置以"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"yes"')]),s._v("回答。\n")])])]),a("h3",{attrs:{id:"参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参数"}},[s._v("#")]),s._v(" 参数")]),s._v(" "),a("p",[s._v("文件系统或者分区：指定文件系统或者分区所对应的设备文件名。")]),s._v(" "),a("h3",{attrs:{id:"实例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实例"}},[s._v("#")]),s._v(" 实例")]),s._v(" "),a("p",[s._v("检查"),a("code",[s._v("/dev/sda1")]),s._v("是否有问题，如发现问题便自动修复：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("e2fsck "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" /dev/sda1\n")])])]),a("p",[s._v("执行e2fsck或fsck前请先umount partition，否则有机会令档案系统毁损。如果需要对根目录"),a("code",[s._v("/")]),s._v("进行检查及修复，便需要进入singal user mode执行。")])])}),[],!1,null,null,null);a.default=r.exports}}]);